<?xml version="1.0" encoding="utf-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet id="data" author="lgangloff">

        <delete tableName="JHI_USER_AUTHORITY"><where>user_id in (1,2,3,4)</where></delete>
        <delete tableName="crossfitbox_administrator"><where>administrators_id in (1,2,3,4)</where></delete>
        <delete tableName="jhi_persistent_token"><where>user_id in (1,2,3,4)</where></delete>
        <delete tableName="JHI_USER"><where>id in (1,2,3,4)</where></delete>

        <loadUpdateData primaryKey="id" encoding="UTF-8"
                  file="config/liquibase/users.csv"
                  separator=";"
                  tableName="JHI_USER">
        </loadUpdateData>
        <loadUpdateData primaryKey="name"  encoding="UTF-8"
                  file="config/liquibase/authorities.csv"
                  separator=";"
                  tableName="JHI_AUTHORITY"/>

        <loadData encoding="UTF-8"
                  file="config/liquibase/users_authorities.csv"
                  separator=";"
                  tableName="JHI_USER_AUTHORITY"/>

    </changeSet>

</databaseChangeLog>
