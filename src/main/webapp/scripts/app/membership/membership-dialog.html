
<form name="form" role="form" novalidate ng-submit="save()" show-validation>

	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal"
			aria-hidden="true" ng-click="clear()">&times;</button>
		<h4 class="modal-title" id="myMembershipLabel"
			translate="crossfitApp.membership.home.createOrEditLabel">Create or
			edit a Membership</h4>
	</div>
	
	<div class="modal-body">
		<jh-alert-error></jh-alert-error>
		<div class="form-group">
			<label for="id" translate="global.field.id">ID</label> <input
				type="text" class="form-control" id="id" name="id"
				ng-model="membership.id" readonly>
		</div>
		
		
		<div class="row ">
		  <div class="col-xs-12">
		    <div class="row form-group">
		  		<div class="col-xs-12">
			    	<div class="row"> 
				        <div class="col-xs-8">			        
							<input type="text" class="form-control" id="name" name="name"
								placeholder="{{'crossfitApp.membership.name.placeholder' | translate}}"
								ng-model="membership.name" ng-maxlength=255 required maxlength="255">
				        </div>
				        <div class="col-xs-4">
					        <input type="text" class="form-control" id="price"
								name="price"
								placeholder="{{'crossfitApp.membership.price.placeholder' | translate}}"
								ng-model="membership.price" ng-maxlength=255
								required maxlength="255">
				        </div>
			        </div>
			        <div class="row"> 
				        <div class="col-xs-12">			        
					
			        		<label class="checkbox-inline">
				       			<input type="checkbox"
								    name="addByDefault"
								    ng-model="membership.addByDefault" >
								    
								 {{ 'crossfitApp.membership.addByDefault' | translate }}
					       			
				       		</label>
					       		
			       		</div>
		       		</div>
			    	<div class="row"> 
				        <div class="col-xs-12">
				    	  	<div ng-show="form.name.$invalid">
								<p class="help-block" ng-show="form.name.$error.required"
									translate="crossfitApp.membership.messages.validate.name.required">The name is required.</p>
								<p class="help-block" ng-show="form.name.$error.maxlength"
									translate="crossfitApp.membership.messages.validate.name.maxlength"> The name cannot be longer than 255 characters.</p>
							</div>
				    	
				    	  	<div ng-show="form.price.$invalid">
								<p class="help-block" ng-show="form.price.$error.required"
									translate="crossfitApp.membership.messages.validate.price.required">The price is required.</p>
								<p class="help-block" ng-show="form.price.$error.maxlength"
									translate="crossfitApp.membership.messages.validate.price.maxlength"> The price cannot be longer than 255 characters.</p>
							</div>
				    	
				    	
						</div>
					</div>
				</div>
		    </div>				
		    <div class="row form-group">
		  		<div class="col-xs-12">
		  			<fieldset>
		  				<legend>
		  					Règles 
			  				
			  				<button type="button" class="btn btn-primary" ng-click="addRules()">
								<span class="glyphicon glyphicon-plus"></span>
							</button>
						
		  				</legend>
		  				
		  				<div class="row"> 
					        <div class="col-xs-6">			        
								<label>Nombre de séance autorisé</label>
					        </div>
					        <div class="col-xs-6">
					        	<label>Accès autorisé aux créneaux de type</label>
					        </div>
				        </div>
				        
				    	<div class="row" ng-repeat="rule in membership.membershipRules"> 
					        <div class="col-xs-5"> 
					        	<div class="row">
					        		<div class="col-xs-5">
							        	<div class="form-group">      
									        <input type="number" class="form-control" id="numberOfSession" name="numberOfSession"
											placeholder="{{'crossfitApp.membershiprules.numberOfSession.placeholder' | translate}}"
											ng-model="rule.numberOfSession" required">
								        </div>
							        </div>
					        		<div class="col-xs-7">
							          	<div class="form-group">
									         <select class="form-control" name="type" ng-model="rule.type" id="field_type" required>
												<option value="SUM" translate="crossfitApp.membershiprules.type.SUM">Au Total</option>
												<option value="SUM_PER_WEEK" translate="crossfitApp.membershiprules.type.SUM_PER_WEEK">Par semaine</option>
												<option value="SUM_PER_MONTH" translate="crossfitApp.membershiprules.type.SUM_PER_MONTH">Par mois</option>
											</select>
										</div>
							        </div>
								</div>
							</div>
					        <div class="col-xs-6">
					       		<label class="checkbox-inline" ng-repeat="timeSlotType in timeSlotTypes">
					       		
					       			<input type="checkbox"
									    name="applyForTimeSlotTypes[]"
									    value="{{timeSlotType.id}}"
									    ng-checked="containsTimeSlotType(rule, timeSlotType)"
									    ng-click="toggleSelection(rule, timeSlotType)"
									  >{{timeSlotType.name}} 
					       			
					       		</label>
					        </div>
					        <div class="col-xs-1">
					        
				  				<button type="button" class="btn btn-danger" ng-click="deleteRulesAtIndex($index)">
									<span class="glyphicon glyphicon-remove"></span>
								</button>
							
					        </div>
				        </div>
		  			</fieldset>
				</div>
		    </div>				
    	</div>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-default" data-dismiss="modal"
			ng-click="clear()">
			<span class="glyphicon glyphicon-ban-circle"></span>&nbsp;<span
				translate="entity.action.cancel">Cancel</span>
		</button>
		<button type="submit"
			ng-disabled="form.$invalid || form.$submitted"
			class="btn btn-primary">
			<span class="glyphicon glyphicon-save"></span>&nbsp;<span
				translate="entity.action.save">Save</span>
		</button>
	</div>
</form>
